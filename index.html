<script>
  function calculateExperienceWithBreaks(workPeriods) {
    const now = new Date();
    let totalMilliseconds = 0;

    workPeriods.forEach(({ start, end }) => {
      const startDate = new Date(start);
      const endDate = end ? new Date(end) : now; // If no end date, assume ongoing
      totalMilliseconds += endDate - startDate; // Sum the duration of each period
    });

    // Convert milliseconds into years, months, days, hours, minutes, and seconds
    let remainingMilliseconds = totalMilliseconds;

    const years = Math.floor(remainingMilliseconds / (365 * 24 * 60 * 60 * 1000));
    remainingMilliseconds %= 365 * 24 * 60 * 60 * 1000;

    const months = Math.floor(remainingMilliseconds / (30 * 24 * 60 * 60 * 1000));
    remainingMilliseconds %= 30 * 24 * 60 * 60 * 1000;

    const days = Math.floor(remainingMilliseconds / (24 * 60 * 60 * 1000));
    remainingMilliseconds %= 24 * 60 * 60 * 1000;

    const hours = Math.floor(remainingMilliseconds / (60 * 60 * 1000));
    remainingMilliseconds %= 60 * 60 * 1000;

    const minutes = Math.floor(remainingMilliseconds / (60 * 1000));
    remainingMilliseconds %= 60 * 1000;

    const seconds = Math.floor(remainingMilliseconds / 1000);

    return `${years}y:${months}m:${days}d:${hours}h:${minutes}m:${seconds}s`;
  }

  function updateExperienceTimerWithBreaks() {
    const workPeriods = [
      { start: "2018-06-01", end: "2020-06-30" }, // Example job 1
      { start: "2021-01-01", end: "2023-06-30" }, // Example job 2
      { start: "2023-08-01" }, // Ongoing job
    ];

    const timerElement = document.getElementById("experience-timer");
    timerElement.textContent = calculateExperienceWithBreaks(workPeriods);
  }

  setInterval(updateExperienceTimerWithBreaks, 1000);
</script>
